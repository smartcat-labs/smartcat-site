@using Vega.USiteBuilder;
@using SmartCat.Business.Helpers;
@using SmartCat.Entities.DocumentTypes;

@model List<int>

@{
    Layout = null;

    var teamMembers = WidgetsHelper.TeamWidget(Model);

    if (teamMembers != null && teamMembers.Any())
    {
        <div class="widget slider">
            <h3><a href="@ContentHelper.GetByNodeId(teamMembers.First().ParentId).NiceUrl">@umbraco.library.GetDictionaryItem("Widgets.TeamTitle")</a></h3>
            <div class="flexslider challengers">
                <ul class="slides">

                    @foreach (var teamMember in teamMembers)
                    {
                        <li>
                            <div class="inner">
                                <img src="@MediaHelper.GetMediaUrl(MediaHelper.GetMediaById(teamMember.SidebarImage.Value))" alt="" />
                                <div class="author-info">
                                    <h4>@teamMember.FirstName @teamMember.LastName</h4>
                                    <span>@teamMember.WorkPosition</span>
                                </div>
                            </div>
                        </li>
                    }

                </ul>
            </div>
        </div>
    }
}